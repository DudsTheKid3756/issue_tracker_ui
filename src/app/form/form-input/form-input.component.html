<section [formGroup]="form">
  <label [attr.for]="field.key" class="formLabel">{{ field.label }}</label>

  <section [ngSwitch]="field.controlType">
    <input
      class="formInput"
      *ngSwitchCase="'textbox'"
      [formControlName]="field.key"
      [id]="field.key"
      [type]="field.type"
      [placeholder]="field.placeholder"
    />

    <textarea
      *ngSwitchCase="'multiline'"
      [formControlName]="field.key"
      [id]="field.key"
      [placeholder]="field.placeholder"
    ></textarea>

    <input
      *ngSwitchCase="'checkbox'"
      type="checkbox"
      [id]="field.key"
      [name]="field.key"
      [formControlName]="field.key"
    />

    <select
      *ngSwitchCase="'dropdown'"
      [formControlName]="field.key"
      [id]="field.key"
    >
      <option *ngFor="let opt of field.options" [value]="opt.key">
        {{ opt.value }}
      </option>
    </select>

    <section class="errorMessage" *ngIf="hasFieldError()">
      {{ field.label }} is required
    </section>
  </section>
</section>
